{"version":3,"sources":["../src/asyncOperationManagerState.js"],"names":["initialAsyncOperationManagerState","descriptors","operations","asyncOperationManagerState","state","getState","setState","newState","newDescriptors","newOperations","clearState"],"mappings":";;;;;;;AAEA;;;;;;AAEA,IAAMA,iCAAiC,GAAG;AACxCC,EAAAA,WAAW,EAAE,EAD2B;AAExCC,EAAAA,UAAU,EAAE;AAF4B,CAA1C;;;AAKA,IAAMC,0BAA0B,GAAI,YAAM;AACxC,MAAIC,KAAJ;;AAEA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,QAAI,CAACD,KAAL,EAAY;AACVA,MAAAA,KAAK,GAAGJ,iCAAR;AACD;;AACD,WAAOI,KAAP;AACD,GALD;;AAOA,MAAME,QAAQ,GAAG,SAAXA,QAAW,GAAmB;AAAA,QAAlBC,QAAkB,uEAAP,EAAO;AAClC,QAAMC,cAAc,GAAG,iBAAID,QAAJ,EAAc,aAAd,EAA6B,EAA7B,CAAvB;AACA,QAAME,aAAa,GAAG,iBAAIF,QAAJ,EAAc,YAAd,EAA4B,EAA5B,CAAtB;AACAH,IAAAA,KAAK,GAAG;AACNH,MAAAA,WAAW,oBACNG,KAAK,CAACH,WADA,EAENO,cAFM,CADL;AAKNN,MAAAA,UAAU,oBACLE,KAAK,CAACF,UADD,EAELO,aAFK;AALJ,KAAR;AAUA,WAAOL,KAAP;AACD,GAdD;;AAgBA,MAAMM,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBN,IAAAA,KAAK,GAAGJ,iCAAR;AACA,WAAOI,KAAP;AACD,GAHD;;AAKA,SAAO;AACLC,IAAAA,QAAQ,EAARA,QADK;AAELC,IAAAA,QAAQ,EAARA,QAFK;AAGLI,IAAAA,UAAU,EAAVA;AAHK,GAAP;AAKD,CApCkC,EAAnC","sourcesContent":["// TODO: JSDocify every function\n\nimport { get } from 'lodash';\n\nconst initialAsyncOperationManagerState = {\n  descriptors: {},\n  operations: {},\n};\n\nconst asyncOperationManagerState = (() => {\n  let state;\n\n  const getState = () => {\n    if (!state) {\n      state = initialAsyncOperationManagerState;\n    }\n    return state;\n  };\n\n  const setState = (newState = {}) => {\n    const newDescriptors = get(newState, 'descriptors', {});\n    const newOperations = get(newState, 'operations', {});\n    state = {\n      descriptors: {\n        ...state.descriptors,\n        ...newDescriptors,\n      },\n      operations: {\n        ...state.operations,\n        ...newOperations,\n      },\n    };\n    return state;\n  };\n\n  const clearState = () => {\n    state = initialAsyncOperationManagerState;\n    return state;\n  };\n\n  return {\n    getState,\n    setState,\n    clearState,\n  };\n})();\n\nexport {\n  initialAsyncOperationManagerState,\n  asyncOperationManagerState,\n};\n"],"file":"asyncOperationManagerState.js"}