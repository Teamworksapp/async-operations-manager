{"version":3,"sources":["../../src/reduxIntegration/asyncOperationReduxUtils.js"],"names":["createAsyncOperationInitialAction","descriptorId","action","type","createAsyncOperationBeginAction","operationStep","ASYNC_OPERATION_STEPS","BEGIN_ASYNC_OPERATION","createAsyncOperationResolveAction","RESOLVE_ASYNC_OPERATION","createAsyncOperationRejectAction","REJECT_ASYNC_OPERATION","getAsyncOperationResolveActionType","getActionForAsyncOperation","operation","extraParams","fetchStatus","dataStatus","message","lastFetchStatusTime","lastDataStatusTime","otherProps","console","warn"],"mappings":";;;;;;;AAEA;;;;;;;;;;AAIA,IAAMA,iCAAiC,GAAG,SAApCA,iCAAoC,CAACC,YAAD,EAAeC,MAAf,EAA0B;AAClE,2BACKA,MADL;AAEEC,IAAAA,IAAI,EAAEF,YAFR;AAGEA,IAAAA,YAAY,EAAZA;AAHF;AAKD,CAND;;;;AAQA,IAAMG,+BAA+B,GAAG,SAAlCA,+BAAkC,CAACH,YAAD,EAAeC,MAAf,EAA0B;AAChE,2BACKA,MADL;AAEED,IAAAA,YAAY,EAAZA,YAFF;AAGEI,IAAAA,aAAa,EAAEC,iCAAsBC,qBAHvC;AAIEJ,IAAAA,IAAI,wBAAiBF,YAAjB;AAJN;AAMD,CAPD;;;;AASA,IAAMO,iCAAiC,GAAG,SAApCA,iCAAoC,CAACP,YAAD,EAAeC,MAAf,EAA0B;AAClE,2BACKA,MADL;AAEED,IAAAA,YAAY,EAAZA,YAFF;AAGEI,IAAAA,aAAa,EAAEC,iCAAsBG,uBAHvC;AAIEN,IAAAA,IAAI,0BAAmBF,YAAnB;AAJN;AAMD,CAPD;;;;AASA,IAAMS,gCAAgC,GAAG,SAAnCA,gCAAmC,CAACT,YAAD,EAAeC,MAAf,EAA0B;AACjE,2BACKA,MADL;AAEED,IAAAA,YAAY,EAAZA,YAFF;AAGEI,IAAAA,aAAa,EAAEC,iCAAsBK,sBAHvC;AAIER,IAAAA,IAAI,yBAAkBF,YAAlB;AAJN;AAMD,CAPD;;;;AASA,IAAMW,kCAAkC,GAAG,SAArCA,kCAAqC,CAAAX,YAAY;AAAA,iCAAqBA,YAArB;AAAA,CAAvD;;;;AAEA,IAAMY,0BAA0B,GAAG,SAA7BA,0BAA6B,CACjCC,SADiC,EAG9B;AAAA,MADHC,WACG,uEADW,EACX;;AACH;AACA;AAFG,MAIDC,WAJC,GAWCF,SAXD,CAIDE,WAJC;AAAA,MAKDC,UALC,GAWCH,SAXD,CAKDG,UALC;AAAA,MAMDC,OANC,GAWCJ,SAXD,CAMDI,OANC;AAAA,MAODC,mBAPC,GAWCL,SAXD,CAODK,mBAPC;AAAA,MAQDC,kBARC,GAWCN,SAXD,CAQDM,kBARC;AAAA,MASDnB,YATC,GAWCa,SAXD,CASDb,YATC;AAAA,MAUEoB,UAVF,4BAWCP,SAXD;;AAaH,MAAI,CAACb,YAAL,EAAmB;AACjBqB,IAAAA,OAAO,CAACC,IAAR,CAAa,6EAAb,EAA4FT,SAA5F;AACD;;AAED;AACEX,IAAAA,IAAI,EAAEF;AADR,KAEKoB,UAFL,EAGKN,WAHL;AAKD,CAzBD","sourcesContent":["// TODO: JSDocify every function\n\nimport {\n  ASYNC_OPERATION_STEPS,\n} from '../constants';\n\nconst createAsyncOperationInitialAction = (descriptorId, action) => {\n  return {\n    ...action,\n    type: descriptorId,\n    descriptorId,\n  };\n};\n\nconst createAsyncOperationBeginAction = (descriptorId, action) => {\n  return {\n    ...action,\n    descriptorId,\n    operationStep: ASYNC_OPERATION_STEPS.BEGIN_ASYNC_OPERATION,\n    type: `AOM//BEGIN__${descriptorId}`,\n  };\n};\n\nconst createAsyncOperationResolveAction = (descriptorId, action) => {\n  return {\n    ...action,\n    descriptorId,\n    operationStep: ASYNC_OPERATION_STEPS.RESOLVE_ASYNC_OPERATION,\n    type: `AOM//RESOLVE__${descriptorId}`,\n  };\n};\n\nconst createAsyncOperationRejectAction = (descriptorId, action) => {\n  return {\n    ...action,\n    descriptorId,\n    operationStep: ASYNC_OPERATION_STEPS.REJECT_ASYNC_OPERATION,\n    type: `AOM//REJECT__${descriptorId}`,\n  };\n};\n\nconst getAsyncOperationResolveActionType = descriptorId => `AOM//RESOLVE__${descriptorId}`;\n\nconst getActionForAsyncOperation = (\n  operation,\n  extraParams = {},\n) => {\n  // We're going to pull out all the fields we recognize -- for both Read and Write operations --\n  // and anything left over is assumed to be part of the action (i.e., any necessary IDs or params)\n  const {\n    fetchStatus,\n    dataStatus,\n    message,\n    lastFetchStatusTime,\n    lastDataStatusTime,\n    descriptorId,\n    ...otherProps\n  } = operation;\n\n  if (!descriptorId) {\n    console.warn('AsyncOperation needs to include descriptorId so that we can re-dispatch it.', operation);\n  }\n\n  return {\n    type: descriptorId,\n    ...otherProps,\n    ...extraParams,\n  };\n};\n\nexport {\n  createAsyncOperationInitialAction,\n  createAsyncOperationBeginAction,\n  createAsyncOperationResolveAction,\n  createAsyncOperationRejectAction,\n  getAsyncOperationResolveActionType,\n  getActionForAsyncOperation,\n};\n"],"file":"asyncOperationReduxUtils.js"}